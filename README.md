# [C++ / windowAPI] Brotato 모작

**게임명:** Brotato  
**개발 환경:** C++, windowAPI  
**개발 기간 & 인원:** 2025/10 ~ 2025/12 (3개월), 1인 개발  
**핵심 역할:** 게임 엔진 아키텍처 설계, 컴포넌트 시스템 구현, 인게임 로직 전반

<iframe width="800" height="600" src="https://www.youtube.com/watch?v=tHov3ex_SmQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

## 기술적 핵심
단순히 게임을 구현하는 것을 넘어서 유지보수가 용이하고 확장 가능한 컴포넌트 기반 엔진을 직접 설계해보았습니다.

### 1. 컴포넌트 패턴 (Component Pattern) 설계
게임 오브젝트(Game Object)가 특정 기능(Component)을 소유하는 구조로 설계하여 객체의 유연성을 높였으며 컴포넌트 패턴을 이용하게 된다면 게임 오브젝트를 상속 받는 모든 하위 클래스들에 대해서도 게임 오브젝트로 형변환시켜 컴포넌트들을 부를 수 있어 관리를 용이하게 할 수 있었습니다.

이런 식으로 컴포넌트 패턴을 이용한다면 기능별 컴포넌트(CTransform, CCollider, CSpriteRenderer 등)를 분리하여 플레이어와 몬스터 등 오브젝트들이 동일한 로직을 공유하여 재사용성을 늘릴 수 있습니다.

![alt text](image.png)  
해당 모작의 오브젝트 클래스 다이어그램은 위와 같습니다.

### 충돌 처리
Brotato란 게임 자체가 플레이어는 기본적으로 캐릭터를 움직이기만 하고 근처에 있는 무기들이 자동적으로 공격하며 외계인들을 무찌르는 게임으로 충돌을 어떻게 처리할 지를 먼저 고민하였던 것 같습니다. 무기가 공격을 수행하기 전에 외계인을 바라보는 행동이 수행되어야 하고 근거리 무기의 경우 공격 후 다시 돌아오는 행동까지 수행되기에 FSM을 Idle, Attack, Back으로 단순하게 구성해보았습니다. 이때 무기와 외계인의 충돌은 Attack 시에만 가능하게 하였습니다.

**배운 점 및 느낀점**  
1. **계획의 중요성** - 처음 진행하는 포폴이다 보니 무계획적으로 임한 부분이 있다고 생각하는데 이는 잘못된 접근 방법임을 깨달았습니다. 초반에 어떤 식으로 진행할 지 어느 시기에는 어느 파트를 만들지 등을 미리 계획적으로 구성하지 않으면 이곳 저곳을 다니면서 구현과 수정을 하며 코드가 난잡해지고 어디를 구현 중이었는지 모르게 되는 경우가 많이 생기게 됩니다. 또한 미리 전체적인 클래스 다이어그램과 게임 내적으로 필요한 FSM, 충돌 처리, 자료 구조, 디자인 패턴 등 다양한 부분들에 대해서도 미리 충분히 계획하고 임하지 않게 되면 쉽게 개발에 길을 잃게 된다는 것을 깨달았습니다.
   
2. **세세한 부분까지 예외 처리의 필요성** - 이 포트폴리오에서는 완전히 예외 처리를 모든 부분에 넣지는 않았지만(학습의 의미로 어느 부분에서 오류가 나는지 파악을 용이하게 하기 위함) 정말 사소한 부분에서도 오류가 발생할 수 있음을 느꼈고 생각도 못한 부분에서 null 오류나 배열 인덱스 접근 오류가 빈번하게 일어나며 이런 일들이 실제 게임 플레이 중에 일어난다면 게임이 바로 다운되는 큰 문제로 이어질 것이고 이는 플레이어들에게 게임에 안좋은 감정이 생기게 되는 결정적인 부분이 될 수 있을 것이라고 생각했습니다.

3. 